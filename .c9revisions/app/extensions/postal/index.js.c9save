{"ts":1401161820852,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var path = require('path'),\n    fs = require('fs'),\n    flatiron = require('flatiron'),\n    common = flatiron.common,\n    existsSync = fs.existsSync || path.existsSync\n\nvar Plates = require('plates');\nvar postal = require('postal');\nexports.name = 'postal';\n\n\nvar extensionsDir = \"\";\n\nvar channels = {};\n\n\n\nexports.init = function (extensionsDir) {\n  var app = this\n\n    app.postal = app.postal || {}\n    extensionsDir = extensionsDir;\n    \n    console.log(\"postal input:\" + extensionsDir);\n    \n                    \n    delete app.postal[\"subscribeToChannel\"];\n    app.postal[\"subscribeToChannel\"] = subscribeToChannel;\n     app.postal[\"publishToChannel\"] = publishToChannel;                \n  }\n\n\n   \n  var subscribeToChannel = function(channelName, fn)\n  {\n      var channel = postal.channel();\n\n    // subscribe to 'name.change' topics\n    var subscription = channel.subscribe( channelName, function ( data ) {\n       fn;\n    });\n      \n  }\n  \n  var publishToChannel = function(channelName, msg)\n  {\n      var channel = postal.channel();\n      \n      channel.publish( \"name.change\", msg );\n      \n  }\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1107}]],"length":1107}
{"contributors":[],"silentsave":false,"ts":1401166094621,"patch":[[{"diffs":[[0,"     \n  "],[1,"//"],[0,"  delete"]],"start1":511,"start2":511,"length1":16,"length2":18},{"diffs":[[0,"annel\"];\n   "],[1,"//"],[0," app.postal["]],"start1":555,"start2":555,"length1":24,"length2":26},{"diffs":[[0,"nel;\n   "],[1,"//"],[0,"  app.po"]],"start1":620,"start2":620,"length1":16,"length2":18},{"diffs":[[0,"\n\n   \n  "],[-1,"var "],[1,"exports."],[0,"subscrib"]],"start1":703,"start2":703,"length1":20,"length2":24},{"diffs":[[0," }\n  \n  "],[-1,"var "],[1,"exports."],[0,"publishT"]],"start1":952,"start2":952,"length1":20,"length2":24},{"diffs":[[0,"sh( "],[-1,"\"name.change\""],[1,"channelName"],[0,", ms"]],"start1":1082,"start2":1082,"length1":21,"length2":19}]],"length":1119,"saved":false}
