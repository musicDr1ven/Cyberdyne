/*
 riveter
 Â© 2012 - Copyright appendTo, LLC
 Author(s): Jim Cowart, Nicholas Cloud, Doug Neiner
 License: Dual licensed MIT (http://opensource.org/licenses/MIT) & GPL (http://opensource.org/licenses/GPL-2.0)
 Version 0.1.1
 */
(function(e,t){typeof module=="object"&&module.exports?module.exports=function(e){return e=e||require("underscore"),t(e)}:typeof define=="function"&&define.amd?define(["underscore"],function(n){return t(n,e)}):e.riveter=t(e._,e)})(this,function(e,t,n){var r=Array.prototype.slice,i=function(){var e=r.call(arguments,0);while(e.length)i.rivet(e.shift())};return i.rivet=function(e){e.hasOwnProperty("extend")||(e.extend=function(t,n){return i.extend(e,t,n)}),e.hasOwnProperty("compose")||(e.compose=function(){return i.compose.apply(this,[e].concat(r.call(arguments,0)))}),e.hasOwnProperty("inherits")||(e.inherits=function(t,n){i.inherits(e,t,n)}),e.hasOwnProperty("mixin")||(e.mixin=function(){i.mixin.apply(this,[e].concat(r.call(arguments,0)))})},i.inherits=function(t,n,r){var s,o=function(){},u=function(){n.apply(this,arguments)};return typeof t=="object"?(t.hasOwnProperty("constructor")&&(u=t.constructor),s=t):(u=t,s=t.prototype),i.rivet(u),e.defaults(u,n,r),o.prototype=n.prototype,u.prototype=new o,e.extend(u.prototype,s,{constructor:u}),u.__super=n,u.__super__=n.prototype,u},i.extend=function(e,t,n){return i.inherits(t,e,n)},i.compose=function(){var t=r.call(arguments,0),n=t.shift();i.rivet(n);var s=e.reduce(t,function(e,t){return t.hasOwnProperty("_preInit")&&e.preInit.push(t._preInit),t.hasOwnProperty("_postInit")&&e.postInit.push(t._postInit),t=t.mixin||t,e.items.push(t),e},{items:[],preInit:[],postInit:[]}),o=n.extend({constructor:function(t){var i=r.call(arguments,0);e.each(s.preInit,function(e){e.apply(this,i)},this),n.prototype.constructor.apply(this,i),e.each(s.postInit,function(e){e.apply(this,i)},this)}});return i.rivet(o),e.defaults(o.prototype,e.extend.apply(null,[{}].concat(s.items))),o},i.mixin=function(){var t=r.call(arguments,0),n=t.shift();i.rivet(n),e.defaults(n.prototype,e.extend.apply(null,[{}].concat(t)))},i})